<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<meta charset="utf-8">
	<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<script src="https://cdn.bootcss.com/angular.js/1.6.5/angular.min.js"></script>
	<script src="js/app.js"></script>
	<style type="text/css">
		input {width: 80%; text-align: right; }
	</style>
	
	<title>JG Pool</title>
</head>
<body ng-controller="MyController">

<!-- <div class="container" style="width:900px"> -->
	<div class="container">
		<p></p>
		<div class="row">
			<table cellspacing="2" cellpadding="2" class="table table-hover table-bordered">
				<tbody id="Group">
					<tr class="warning">
						<th style="text-align: center">上次更新时间</th>
						<th style="text-align: center">离下次刷新</th>
						<th style="text-align: center">刷新操作</th>
						<th style="text-align: center">自动</th>
					</tr>
					<tr class="info">
						<td style="text-align: center; vertical-align: middle;">{{timer.last_time  | date:'yyyy-MM-dd HH:mm:ss'}}</td>
						<td style="text-align: center; vertical-align: middle;">{{30 - timer.seconds | number : 0}}</td>
						<td style="text-align: center">
							<a href="javascript:" class='btn btn-success btn-sm' ng-click="refreshZCL()" ng-disabled="pools.ZCL.refreshing">ZCL</a>
							<a href="javascript:" class='btn btn-success btn-sm' ng-click="refreshZEC()" ng-disabled="pools.ZEC.refreshing">ZEC</a>
							<a href="javascript:" class='btn btn-success btn-sm' ng-click="refreshPrice()" ng-disabled="price.refreshing">价格</a>
						</td>
						<td style="text-align: center">
							<a href="javascript:" class='btn btn-success btn-sm' ng-click="auto()">
								<span ng-hide="timer.timer">开启</span>
								<span ng-show="timer.timer">关闭</span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="row">
			<table cellspacing="2" cellpadding="2" class="table table-hover table-bordered">
				<tbody id="Group">
					<tr class="active">
						<th style="text-align: center"></th>
						<th style="text-align: center">BTC</th>
						<th style="text-align: center">BCC</th>
						<th style="text-align: center">ETH</th>
						<th style="text-align: center">ZEC</th>
						<th style="text-align: center">ZCL</th>
						<th style="text-align: center">XRP</th>
						<th style="text-align: center">XLM</th>
					</tr>
					<tr>
						<td style="text-align: center; vertical-align: middle;">CoinMarketCap价格</td>
						<td style="text-align: center; vertical-align: middle;">{{price.BTC | number : 0}}</td>
						<td style="text-align: center; vertical-align: middle;">{{price.BCH | number : 0}}</td>
						<td style="text-align: center; vertical-align: middle;">{{price.ETH | number : 0}}</td>
						<td style="text-align: center; vertical-align: middle;">{{price.ZEC | number : 0}}</td>
						<td style="text-align: center; vertical-align: middle;">{{price.ZCL | number : 2}}</td>
						<td style="text-align: center; vertical-align: middle;">{{price.XRP | number : 3}}</td>
						<td style="text-align: center; vertical-align: middle;">{{price.XLM | number : 3}}</td>
					</tr>
					<tr>
						<td style="text-align: center; vertical-align: middle;">正常矿机数量</td>
						<td style="text-align: center; vertical-align: middle;"></td>
						<td style="text-align: center; vertical-align: middle;"></td>
						<td style="text-align: center; vertical-align: middle;"></td>
						<td style="text-align: center; vertical-align: middle;">{{pools.ZEC.alive | number : 0}}</td>
						<td style="text-align: center; vertical-align: middle;">{{pools.ZCL.alive | number : 0}}</td>
						<td style="text-align: center; vertical-align: middle;"></td>
						<td style="text-align: center; vertical-align: middle;"></td>
					</tr>
					<tr>
						<td style="text-align: center; vertical-align: middle;">总算力</td>
						<td style="text-align: center; vertical-align: middle;"></td>
						<td style="text-align: center; vertical-align: middle;"></td>
						<td style="text-align: center; vertical-align: middle;"></td>
						<td style="text-align: center; vertical-align: middle;">{{pools.ZEC.hashrate | number : 2}} kH/s</td>
						<td style="text-align: center; vertical-align: middle;">{{pools.ZCL.hashrate | number : 2}} kSol/s</td>
						<td style="text-align: center; vertical-align: middle;"></td>
						<td style="text-align: center; vertical-align: middle;"></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="row">
			<table cellspacing="2" cellpadding="2" class="table table-hover table-bordered">
				<tbody id="Group">
					<tr class="active">
						<th style="text-align: center">名称</th>
						<th style="text-align: center">币种</th>
						<th style="text-align: right">算力</th>
						<th style="text-align: right">Shares</th>
						<th style="text-align: center">更新时间</th>
						<th style="text-align: center">备注</th>
					</tr>
					<tr ng-class="{danger:worker.state=='off', success:worker.state=='on', warning:worker.state=='pending' }" ng-repeat="(name, worker) in miners">
						<td style="text-align: center">{{worker.name}}</td>
						<td style="text-align: center">{{worker.coin}}</td>
						<td style="text-align: right"><span ng-show="worker.hashrate">{{worker.hashrate | number : 2}} {{worker.rateunit}}</span></td>
						<td style="text-align: right">{{worker.shares | number : 0}}</td>
						<td style="text-align: center">{{worker.lasttime  | date:'yyyy-MM-dd HH:mm:ss'}}</td>
						<td style="text-align: center">{{worker.desc}}</td>
					</tr>
				</tbody>
			</table>
		</div>
		
	</div>	        	
</body>
</html>